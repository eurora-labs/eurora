syntax = "proto3";
package browser_bridge;

service BrowserBridge {
    rpc Open(stream Frame) returns (stream Frame);
}

message Frame {
    // Each uint32 is the request id of the different type
    oneof id {
        uint32 Request = 1;
        uint32 Response = 2;
        uint32 Event = 3;
        uint32 Error = 4;
        uint32 Cancel = 5;
    }
    // Decides which listener responds to this frame
    string command = 6;

    // JSON-encoded string
    string payload = 7;
}
