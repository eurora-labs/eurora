[package]
name = "euro-tauri"
version = "0.0.0"
edition.workspace = true
license = "LicenseRef-Eurora-SUL-AND-Apache-2.0"
publish = false

[package.metadata.cargo-machete]
ignored = [
  "backtrace",
  "tauri-plugin-dialog",
  "tauri-plugin-fs",
  "tauri-plugin-process",
  "tauri-plugin-store",
  "tauri-plugin-stronghold",
  "serde",
  "specta"
]

[lib]
crate-type = ["cdylib", "lib", "staticlib"]
doctest = false

[[bin]]
name = "euro-tauri"
path = "src/main.rs"
test = false

[dependencies]
agent-chain-core = { workspace = true }
anyhow = { workspace = true }
backtrace = { version = "0.3.76", optional = true }
color-thief = "0.2.2"
dirs = { workspace = true }
dotenv = { workspace = true }
euro-activity = { workspace = true }
euro-conversation = { workspace = true }
euro-secret = { workspace = true }
euro-settings = { workspace = true }
euro-timeline = { workspace = true }
euro-user = { workspace = true }
euro-vision = { workspace = true }
futures = { workspace = true }
image = { workspace = true }
keyring = { workspace = true }
log = { workspace = true }
parking_lot = { workspace = true }
posthog-rs = { workspace = true }
sentry = { workspace = true, features = ["log", "logs", "tracing"] }
serde = { workspace = true }
serde_json = { workspace = true, features = ["arbitrary_precision", "std"] }
specta = { workspace = true, features = ["derive", "function"] }
specta-typescript = { version = "0.0.9" }
tauri = { version = "2.10.2", features = ["tray-icon", "unstable"] }
tauri-plugin-autostart = "2"
tauri-plugin-dialog = "2"
tauri-plugin-fs = "2"
tauri-plugin-global-shortcut = "2"
tauri-plugin-http = "2"
tauri-plugin-log = { version = "2", features = ["colored"] }
tauri-plugin-opener = "2"
tauri-plugin-os = "2"
tauri-plugin-process = "2"
tauri-plugin-shell = "2"
tauri-plugin-single-instance = "2"
tauri-plugin-store = "2"
tauri-plugin-stronghold = "2"
tauri-plugin-updater = "2.10"
tauri-plugin-window-state = "2"
taurpc = "0.6.0"
# The features here optimize for performance.
tokio = { workspace = true, features = ["parking_lot", "rt-multi-thread"] }
tracing = { workspace = true }
url = { workspace = true }

[build-dependencies]
tauri-build = { version = "2", features = [] }

[target.'cfg(target_os = "macos")'.dependencies]
core-foundation = "0.10.1"

[features]
default = ["custom-protocol", "devtools"]
# this feature is used used for production builds where `devPath` points to the filesystem
# DO NOT remove this
custom-protocol = ["tauri/custom-protocol"]
devtools = ["tauri/devtools"]
error-context = ["dep:backtrace"]
# Use mock keyring for testing (e2e tests, CI environments without system keyring)
mock-keyring = []
## A forwarding to all crates that have windows-specific adjustments for testing on non-Windows.
windows = []

[lints.clippy]
all = "deny"
correctness = "deny"
perf = "deny"
